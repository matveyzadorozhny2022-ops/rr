<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
  <title>–¢–∞–ø–∞–ª–∫–∞ üéÅ</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden; /* –±–ª–æ–∫–∏—Ä—É–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É */
      background: url('fon.jpg') no-repeat center center;
      background-size: cover;
      font-family: "Comic Sans MS", sans-serif;
      color: white;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.6);
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent; /* —É–±–∏—Ä–∞–µ–º —Å–∏–Ω–µ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ */
      user-select: none;
    }

    #message {
      position: absolute;
      bottom: 23%;
      width: 90%;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      font-size: 1.2rem;
      line-height: 1.4;
      transition: opacity 0.4s ease;
      pointer-events: none;
    }

    #btn {
      position: absolute;
      bottom: 10%;
      left: 50%;
      transform: translateX(-50%);
      width: 55vw;
      max-width: 260px;
      cursor: pointer;
      transition: transform 0.1s ease;
      will-change: transform;
    }

    #btn:active {
      transform: translateX(-50%) scale(0.93);
    }

    #gift {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 70vw;
      max-width: 340px;
      display: none;
      cursor: pointer;
      transition: transform 0.25s ease, opacity 0.25s ease;
      will-change: transform, opacity;
    }

    .fade-out {
      transform: translate(-50%, -50%) scale(0.7);
      opacity: 0;
    }

    /* –û–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è */
    #confirmBox {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.88);
      padding: 22px 28px;
      border-radius: 16px;
      text-align: center;
      z-index: 10;
      box-shadow: 0 0 15px rgba(255,255,255,0.25);
      width: 80%;
      max-width: 320px;
      animation: pop 0.25s ease;
    }

    #confirmBox p {
      margin-bottom: 16px;
      font-size: 1.1rem;
    }

    .confirm-btn {
      margin: 5px;
      padding: 10px 22px;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.15s, box-shadow 0.15s;
      width: 46%;
    }

    .confirm-btn:active {
      transform: scale(0.95);
    }

    #receiveBtn {
      background: linear-gradient(180deg, #FFE600, #FFBE00);
      box-shadow: 0 0 10px #FFD700;
      color: #333;
    }

    #sellBtn {
      background: linear-gradient(180deg, #00C6FF, #0078FF);
      box-shadow: 0 0 10px #00BFFF;
      color: #fff;
    }

    @keyframes pop {
      0% { transform: translate(-50%, -48%) scale(0.9); opacity: 0; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }

    /* –§–µ–π–µ—Ä–≤–µ—Ä–∫–∏ */
    .firework {
      position: absolute;
      opacity: 0.85;
      width: 90px;
      height: 90px;
      pointer-events: none;
      animation: fall linear forwards;
      will-change: transform, opacity;
    }

    @keyframes fall {
      0% { transform: translateY(-10vh) scale(1); opacity: 1; }
      100% { transform: translateY(105vh) scale(1.2); opacity: 0; }
    }
  </style>
</head>
<body>

  <img id="gift" alt="gift">
  <div id="message">üëÜ –¢–∞–ø–∞–π, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–∞—Ä–æ–∫!</div>
  <img id="btn" alt="tap button">

  <div id="confirmBox">
    <p>–ü—Ä–æ–¥–∞—Ç—å –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫?</p>
    <button id="sellBtn" class="confirm-btn">–ü–†–û–î–ê–¢–¨</button>
    <button id="receiveBtn" class="confirm-btn">–ü–û–õ–£–ß–ò–¢–¨</button>
  </div>

  <script>
    // –§–∏–∫—Å–∏—Ä—É–µ–º –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é (portrait)
    if (screen.orientation && screen.orientation.lock) {
      screen.orientation.lock('portrait').catch(() => {});
    }

    const btn = document.getElementById('btn');
    const gift = document.getElementById('gift');
    const message = document.getElementById('message');
    const confirmBox = document.getElementById('confirmBox');
    const sellBtn = document.getElementById('sellBtn');
    const receiveBtn = document.getElementById('receiveBtn');
    const body = document.body;

    let tapCount = 0;
    const totalTaps = 5;

    const btns = ['btn1.webp', 'btn2.webp', 'btn3.webp'];
    btn.src = btns[Math.floor(Math.random() * btns.length)];

    const gifts = Array.from({ length: 15 }, (_, i) => `g${i + 1}.webp`);
    const fireworks = ['f1.webp', 'f2.webp', 'f3.webp'];

    btn.addEventListener('click', () => {
      tapCount++;
      if (tapCount < totalTaps) {
        message.textContent = `–ü—Ä–æ–¥–æ–ª–∂–∞–π! –û—Å—Ç–∞–ª–æ—Å—å ${totalTaps - tapCount} —Ç–∞–ø–æ–≤ –¥–æ –ø–æ–¥–∞—Ä–∫–∞ üéÅ`;
      } else {
        const randomGift = gifts[Math.floor(Math.random() * gifts.length)];
        gift.src = randomGift;
        gift.style.display = 'block';
        btn.style.display = 'none';
        message.innerHTML = `üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –¢—ã –ø–æ–ª—É—á–∏–ª –ø–æ–¥–∞—Ä–æ–∫!<br><small>–ù–∞–∂–º–∏ –Ω–∞ –Ω–µ–≥–æ, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ.</small>`;
        launchFireworks();
      }
    });

    gift.addEventListener('click', () => {
      confirmBox.style.display = 'block';
    });

    sellBtn.addEventListener('click', () => {
      confirmBox.style.display = 'none';
      hideGiftWithMessage('üí∞ –í—ã –ø—Ä–æ–¥–∞–ª–∏ –ø–æ–¥–∞—Ä–æ–∫!<br>‚≠ê –ó–≤—ë–∑–¥—ã —Å–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è –Ω–∞ –≤–∞—à–µ–º –±–∞–ª–∞–Ω—Å–µ Telegram ‚ú®');
    });

    receiveBtn.addEventListener('click', () => {
      confirmBox.style.display = 'none';
      hideGiftWithMessage('üéÅ –ü–æ–¥–∞—Ä–æ–∫ —Å–∫–æ—Ä–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ!');
    });

    function hideGiftWithMessage(text) {
      message.style.opacity = 0;
      gift.classList.add('fade-out');
      setTimeout(() => {
        gift.style.display = 'none';
        message.innerHTML = text;
        message.style.opacity = 1;
      }, 250);
    }

    // –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∏
    function launchFireworks() {
      for (let i = 0; i < 15; i++) {
        const fw = document.createElement('img');
        fw.src = fireworks[Math.floor(Math.random() * fireworks.length)];
        fw.classList.add('firework');
        fw.style.left = Math.random() * 100 + 'vw';
        fw.style.animationDelay = (Math.random() * 1) + 's';
        fw.style.width = (70 + Math.random() * 40) + 'px';
        fw.style.animationDuration = (0.8 + Math.random() * 0.6) + 's';
        body.appendChild(fw);
        setTimeout(() => fw.remove(), 1500);
      }
    }
  </script>
</body>
</html>
