<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–¢–∞–ø–∞–ª–∫–∞ üéÅ</title>
  <style>
    * {
      box-sizing: border-box;
      touch-action: manipulation;
    }
    body {
      margin: 0;
      padding: 0;
      background: url('fon.jpg') no-repeat center center fixed;
      background-size: cover;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-family: "Comic Sans MS", sans-serif;
      color: white;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.6);
      overflow: hidden;
      user-select: none;
    }

    #message {
      font-size: 1.3rem;
      margin-bottom: 1rem;
      text-align: center;
      padding: 0 10px;
      transition: opacity 0.5s ease;
    }

    #btn {
      width: 45vw;
      max-width: 200px;
      cursor: pointer;
      transition: transform 0.15s;
    }

    #btn:active {
      transform: scale(0.9);
    }

    #gift {
      width: 55vw;
      max-width: 260px;
      display: none;
      margin-top: 1rem;
      cursor: pointer;
      transition: transform 0.4s ease, opacity 0.4s ease;
    }

    .fade-out {
      transform: scale(0.6);
      opacity: 0;
    }

    /* –û–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è */
    #confirmBox {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.9);
      padding: 25px 35px;
      border-radius: 20px;
      text-align: center;
      z-index: 10;
      box-shadow: 0 0 25px rgba(255,255,255,0.3);
      animation: pop 0.3s ease;
    }

    #confirmBox p {
      margin-bottom: 20px;
      font-size: 1.2rem;
    }

    .confirm-btn {
      margin: 0 10px;
      padding: 12px 28px;
      border: none;
      border-radius: 14px;
      font-size: 1rem;
      cursor: pointer;
      font-weight: bold;
      transition: transform 0.15s, box-shadow 0.2s;
    }

    .confirm-btn:active {
      transform: scale(0.95);
    }

    /* –ñ—ë–ª—Ç–∞—è ‚Äî –ü–û–õ–£–ß–ò–¢–¨ */
    #receiveBtn {
      background: linear-gradient(180deg, #FFE600, #FFBE00);
      box-shadow: 0 0 18px #FFD700;
      color: #333;
    }

    #receiveBtn:hover {
      box-shadow: 0 0 25px #FFF176;
    }

    /* –ì–æ–ª—É–±–∞—è ‚Äî –ü–†–û–î–ê–¢–¨ */
    #sellBtn {
      background: linear-gradient(180deg, #00C6FF, #0078FF);
      box-shadow: 0 0 18px #00BFFF;
      color: #fff;
    }

    #sellBtn:hover {
      box-shadow: 0 0 25px #6FDBFF;
    }

    @keyframes pop {
      0% { transform: translate(-50%, -48%) scale(0.9); opacity: 0; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }

    /* –§–µ–π–µ—Ä–≤–µ—Ä–∫–∏ */
    .firework {
      position: absolute;
      opacity: 0.9;
      width: 130px;
      height: 130px;
      animation: fall linear forwards;
      pointer-events: none;
    }

    @keyframes fall {
      0% { transform: translateY(-15vh) scale(1); opacity: 1; }
      100% { transform: translateY(110vh) scale(1.3); opacity: 0; }
    }
  </style>
</head>
<body>

  <div id="message">üëÜ –ù–∞–∂–∏–º–∞–π, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫!</div>
  <img id="btn" alt="tap button">
  <img id="gift" alt="gift">

  <div id="confirmBox">
    <p>–ü—Ä–æ–¥–∞—Ç—å –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫?</p>
    <button id="sellBtn" class="confirm-btn">–ü–†–û–î–ê–¢–¨</button>
    <button id="receiveBtn" class="confirm-btn">–ü–û–õ–£–ß–ò–¢–¨</button>
  </div>

  <script>
    const btn = document.getElementById('btn');
    const gift = document.getElementById('gift');
    const message = document.getElementById('message');
    const confirmBox = document.getElementById('confirmBox');
    const sellBtn = document.getElementById('sellBtn');
    const receiveBtn = document.getElementById('receiveBtn');
    const body = document.body;

    let tapCount = 0;
    const totalTaps = 5;

    // –≤—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é –∫–Ω–æ–ø–∫—É
    const btns = ['btn1.webp', 'btn2.webp', 'btn3.webp'];
    btn.src = btns[Math.floor(Math.random() * btns.length)];

    const gifts = Array.from({ length: 10 }, (_, i) => `g${i + 1}.webp`);
    const fireworks = ['f1.webp', 'f2.webp', 'f3.webp'];

    btn.addEventListener('click', () => {
      tapCount++;
      if (tapCount < totalTaps) {
        message.textContent = `–ü—Ä–æ–¥–æ–ª–∂–∞–π! –û—Å—Ç–∞–ª–æ—Å—å ${totalTaps - tapCount} —Ç–∞–ø–æ–≤ –¥–æ –ø–æ–¥–∞—Ä–∫–∞ üéÅ`;
      } else {
        const randomGift = gifts[Math.floor(Math.random() * gifts.length)];
        gift.src = randomGift;
        gift.style.display = 'block';
        btn.style.display = 'none';
        message.innerHTML = `üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –¢—ã –ø–æ–ª—É—á–∏–ª –ø–æ–¥–∞—Ä–æ–∫!<br><small>–ù–∞–∂–º–∏ –Ω–∞ –Ω–µ–≥–æ, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ.</small>`;
        launchFireworks();
      }
    });

    gift.addEventListener('click', () => {
      confirmBox.style.display = 'block';
    });

    sellBtn.addEventListener('click', () => {
      confirmBox.style.display = 'none';
      message.style.opacity = 0;
      gift.classList.add('fade-out');
      setTimeout(() => {
        gift.style.display = 'none';
        message.innerHTML = 'üí∞ –í—ã –ø—Ä–æ–¥–∞–ª–∏ –ø–æ–¥–∞—Ä–æ–∫!<br>‚≠ê –ó–≤—ë–∑–¥—ã —Å–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è –Ω–∞ –≤–∞—à–µ–º –±–∞–ª–∞–Ω—Å–µ Telegram ‚ú®';
        message.style.opacity = 1;
      }, 400);
    });

    receiveBtn.addEventListener('click', () => {
      confirmBox.style.display = 'none';
      message.style.opacity = 0;
      gift.classList.add('fade-out');
      setTimeout(() => {
        gift.style.display = 'none';
        message.innerHTML = 'üéÅ –ü–æ–¥–∞—Ä–æ–∫ —Å–∫–æ—Ä–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ!';
        message.style.opacity = 1;
      }, 400);
    });

    function launchFireworks() {
      for (let i = 0; i < 60; i++) {
        const fw = document.createElement('img');
        fw.src = fireworks[Math.floor(Math.random() * fireworks.length)];
        fw.classList.add('firework');
        fw.style.left = Math.random() * 100 + 'vw';
        fw.style.top = Math.random() * -50 + 'vh';
        fw.style.width = Math.random() * 90 + 120 + 'px';
        fw.style.animationDuration = (0.8 + Math.random() * 1.1) + 's';
        fw.style.animationDelay = (Math.random() * 0.8) + 's';
        body.appendChild(fw);
        setTimeout(() => fw.remove(), 2200);
      }
    }
  </script>

</body>
</html>
